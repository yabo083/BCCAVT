# Bilibili Cookie 管理器 - 更新日志

## v2.0 - 2025年7月7日 重大更新

### 🎨 全新UI设计
- **现代化界面**: 采用渐变背景和圆角设计，提升视觉体验
- **响应式布局**: 优化了弹窗尺寸和组件间距
- **状态指示器**: 添加了彩色状态点，直观显示操作状态
- **加载动画**: 按钮操作时显示加载状态，提升用户体验
- **页脚信息**: 添加版权信息和快捷链接

### 🚀 核心功能增强
1. **智能Cookie获取**
   - 自动识别B站页面并分类存储Cookie
   - 敏感Cookie值自动加密显示（如SESSDATA、bili_jct等）
   - 显示Cookie域名信息

2. **一键BV号提取与跳转**
   - 自动从当前B站视频页面提取BV号
   - 支持多种URL格式：/video/BV号、带参数、带斜杠等
   - 自动跳转到爬取页面并传递BV号
   - 爬取页面自动加载Cookie并开始爬取

3. **安全的Cookie管理**
   - 一键清除所有已保存的Cookie
   - 清除前二次确认，防止误操作
   - 自动加载已保存的Cookie

### 🔧 技术改进
- **扩展权限**: 添加了tabs权限支持新标签页创建
- **消息传递**: 优化了扩展与页面间的通信机制
- **错误处理**: 完善了错误提示和状态反馈
- **代码重构**: 模块化代码结构，提高可维护性

### 📱 用户体验优化
- **直观反馈**: 每个操作都有明确的状态提示
- **防重复点击**: 操作过程中禁用按钮防止重复提交
- **视觉层次**: 使用不同颜色区分不同类型的操作
- **信息层次**: Cookie显示支持关键信息高亮

### 🛠 开发者功能
- **调试支持**: 增强了console日志输出
- **扩展性**: 预留了扩展功能的接口
- **文档完善**: 添加了详细的使用说明

## 使用指南

### 基本操作流程
1. 打开B站视频页面
2. 点击扩展图标
3. 点击"自动获取BV号并跳转页面"
4. 系统自动：
   - 提取当前页面BV号
   - 获取并保存Cookie
   - 跳转到爬取页面
   - 自动加载Cookie和BV号
   - 开始爬取流程

### 支持的URL格式
- `https://www.bilibili.com/video/BV1234567890`
- `https://www.bilibili.com/video/BV1234567890/`
- `https://www.bilibili.com/video/BV1234567890?p=1`
- `https://www.bilibili.com/video/BV1234567890/?p=1&t=60`

### 安全说明
- 敏感Cookie值会自动加密显示
- Cookie只保存在本地，不会上传到任何服务器
- 支持一键清除所有Cookie数据

## 技术栈
- **前端**: HTML5, CSS3, JavaScript ES6+
- **扩展API**: Chrome Extension Manifest V3
- **UI框架**: 原生CSS Grid和Flexbox
- **数据存储**: Chrome Extension Storage API + LocalStorage

## 开发计划
- [ ] 添加Cookie导入/导出功能
- [ ] 支持多账户Cookie管理
- [ ] 增加Cookie有效期监控
- [ ] 添加批量BV号处理功能
- [ ] 支持其他视频平台
